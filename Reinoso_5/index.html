<!doctype html>
<html>
<head>
<link href="estilo.css" rel="stylesheet" type="text/css" media="screen" />
<script src="jquery-1.6.4.js"></script>
<script src="miScriptMov.js"></script>
<script language="JavaScript">
	var cwidth=400;
	var cheight=300;
	var dicex=50;
	var dicey=50;
	var dicewidth=100;
	var diceheight=100;
	var dotrad=6;
	var ctx;
	var dx=100;
	var dy=100;

	function throwdice(){
		var sum;
		var ch=1+Math.floor(Math.random()*6);
		sum=ch;
		dx=dicex;
		dy=dicey;
		drawface(ch);
		dx=(dicex+150);
		ch=1+Math.floor(Math.random()*6);
		sum += ch;
		drawface(ch);

				switch(sum){
					
					case 2:
						document.f.pv.value=2;
						break;
					case 3:
						document.f.pv.value=3;
						break;
					case 4:
						document.f.pv.value=4;
						break;
					case 5:
						document.f.pv.value=5;
						break;
					case 6:
						document.f.pv.value=6;
						break;
					case 7:
						document.f.pv.value=7;
						break;
					case 8:
						document.f.pv.value=8;
						break;
					case 9:
						document.f.pv.value=9;
						break;
					case 10:
						document.f.pv.value=10;
						break;
					case 11:
						document.f.pv.value=11;
						break;
					case 12:
						document.f.pv.value=12;
						break;

					}
				
	
	
	
	function draw1(){
		var dotx;
		var doty;
		ctx.beginPath();
		dotx=dx+.5*dicewidth;
		doty=dy+.5*diceheight;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		ctx.closePath();
		ctx.fill();
	}
	
	function draw2(){
		var dotx;
		var doty;
		ctx.beginPath();
		dotx=dx+3*dotrad;
		doty=dy+3*dotrad;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		dotx=dx+dicewidth-3*dotrad;
		doty=dy+diceheight-3*dotrad;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		ctx.closePath();
		ctx.fill();
	}
	
	function draw4(){
		var dotx;
		var doty;
		ctx.beginPath();
		dotx=dx+3*dotrad;
		doty=dy+3*dotrad;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		dotx=dx+dicewidth-3*dotrad;
		doty=dy+diceheight-3*dotrad;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		ctx.closePath();
		ctx.fill();
		ctx.beginPath();
		
		dotx=dx+3*dotrad;
		doty=dy+diceheight-3*dotrad;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		dotx=dx+dicewidth-3*dotrad;
		doty=dy+3*dotrad;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		ctx.closePath();
		ctx.fill();
	}
	
	function draw2mid(){
		var dotx;
		var doty;
		ctx.beginPath();
		dotx=dx+3*dotrad;
		doty=dy+.5*diceheight;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		dotx=dx+dicewidth-3*dotrad;
		doty=dy+.5*diceheight;
		ctx.arc(dotx,doty,dotrad,0,Math.PI*2,true);
		ctx.closePath();
		ctx.fill();
	}
	
	function drawface(n){
		ctx=document.getElementById('canvas').getContext('2d');
		ctx.lineWidth=5;
		ctx.clearRect(dx,dy,dicewidth,diceheight);
		ctx.strokeRect(dx,dy,dicewidth,diceheight);
		var dotx;
		var doty;
		ctx.fillStyle="#009966";
			switch(n){
				case 1:
					draw1();
					break;
				case 2:
					draw2();
					break;
				case 3:
					draw2();
					draw1();
					break;
				case 4:
					draw4();
					break;
				case 5:
					draw4();
					draw1();
					break;
				case 6:
					draw4();
					draw2mid();
					break;
			}
			
		}

	}
</script>
</head>
<body>
<div id="all">
	<div id="contenedor">
		<div id="heroe"></div>
		<div id="key"></div>
		<div id="villano"></div>
		<div id="villano2"></div>
		<div id="door"></div>
	</div>
	<div id="final" style="display: none;">
			<p>Sobreviviste esta vez , malditus. </p>
		
	</div>
	<div id="ataque">
		<canvas id="canvas" width="280" height="200"></canvas>
		<br/>
		<button onClick ="throwdice();">Lanza los dados</button>
		<form name="f">
			Punto:<input name="pv" value="  "/>
		</form>
	</div>
</div>
</body>

</html>